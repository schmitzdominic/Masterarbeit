(function(a){if(typeof module==="object"&&module.exports){module.exports=a}else{a(Highcharts)}}(function(a){(function(c){var b=c.Axis,f=c.each,e=c.pick,d=c.wrap;d(b.prototype,"getSeriesExtremes",function(h){var l=this.isXAxis,k,g,j=[],i;if(l){f(this.series,function(n,m){if(n.useMapGeometry){j[m]=n.xData;n.xData=[]}})}h.call(this);if(l){k=e(this.dataMin,Number.MAX_VALUE);g=e(this.dataMax,-Number.MAX_VALUE);f(this.series,function(n,m){if(n.useMapGeometry){k=Math.min(k,e(n.minX,k));g=Math.max(g,e(n.maxX,k));n.xData=j[m];i=true}});if(i){this.dataMin=k;this.dataMax=g}}});d(b.prototype,"setAxisTranslation",function(l){var m=this.chart,p,i=m.plotWidth/m.plotHeight,o,h=m.xAxis[0],k,n,j,g;l.call(this);if(this.coll==="yAxis"&&h.transA!==undefined){f(this.series,function(q){if(q.preserveAspectRatio){g=true}})}if(g){this.transA=h.transA=Math.min(this.transA,h.transA);p=i/((h.max-h.min)/(this.max-this.min));k=p<1?this:h;o=(k.max-k.min)*k.transA;k.pixelPadding=k.len-o;k.minPixelPadding=k.pixelPadding/2;n=k.fixTo;if(n){j=n[1]-k.toValue(n[0],true);j*=k.transA;if(Math.abs(j)>k.minPixelPadding||(k.min===k.dataMin&&k.max===k.dataMax)){j=0}k.minPixelPadding-=j}}});d(b.prototype,"render",function(g){g.call(this);this.fixTo=null})}(a));(function(m){var h=m.Axis,f=m.Chart,e=m.color,d,l=m.each,j=m.extend,o=m.isNumber,b=m.Legend,i=m.LegendSymbolMixin,n=m.noop,k=m.merge,g=m.pick,c=m.wrap;d=m.ColorAxis=function(){this.init.apply(this,arguments)};j(d.prototype,h.prototype);j(d.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:true,endOnTick:true,offset:0,marker:{animation:{duration:50},width:0.01,color:"#999999"},labels:{overflow:"justify"},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:true},keepProps:["legendGroup","legendItem","legendSymbol"].concat(h.prototype.keepProps),init:function(q,r){var s=q.options.legend.layout!=="vertical",p;this.coll="colorAxis";p=k(this.defaultColorAxisOptions,{side:s?2:1,reversed:!s},r,{opposite:!s,showEmpty:false,title:null});h.prototype.init.call(this,q,p);if(r.dataClasses){this.initDataClasses(r)}this.initStops(r);this.horiz=s;this.zoomEnabled=false;this.defaultLegendLength=200},tweenColors:function(t,s,r){var q,p;if(!s.rgba.length||!t.rgba.length){p=s.input||"none"}else{t=t.rgba;s=s.rgba;q=(s[3]!==1||t[3]!==1);p=(q?"rgba(":"rgb(")+Math.round(s[0]+(t[0]-s[0])*(1-r))+","+Math.round(s[1]+(t[1]-s[1])*(1-r))+","+Math.round(s[2]+(t[2]-s[2])*(1-r))+(q?(","+(s[3]+(t[3]-s[3])*(1-r))):"")+")"}return p},initDataClasses:function(w){var u=this,t=this.chart,q,v=0,r=t.options.chart.colorCount,s=this.options,p=w.dataClasses.length;this.dataClasses=q=[];this.legendItems=[];l(w.dataClasses,function(z,y){var x;z=k(z);q.push(z);if(!z.color){if(s.dataClassColor==="category"){x=t.options.colors;r=x.length;z.color=x[v];z.colorIndex=v;v++;if(v===r){v=0}}else{z.color=u.tweenColors(e(s.minColor),e(s.maxColor),p<2?0.5:y/(p-1))}}})},initStops:function(p){this.stops=p.stops||[[0,this.options.minColor],[1,this.options.maxColor]];l(this.stops,function(q){q.color=e(q[1])})},setOptions:function(p){h.prototype.setOptions.call(this,p);this.options.crosshair=this.options.marker},setAxisSize:function(){var u=this.legendSymbol,t=this.chart,r=t.options.legend||{},q,v,s,p;if(u){this.left=q=u.attr("x");this.top=v=u.attr("y");this.width=s=u.attr("width");this.height=p=u.attr("height");this.right=t.chartWidth-q-s;this.bottom=t.chartHeight-v-p;this.len=this.horiz?s:p;this.pos=this.horiz?q:v}else{this.len=(this.horiz?r.symbolWidth:r.symbolHeight)||this.defaultLegendLength}},toColor:function(w,x){var t,y=this.stops,u,v,q,p=this.dataClasses,s,r;if(p){r=p.length;while(r--){s=p[r];u=s.from;v=s.to;if((u===undefined||w>=u)&&(v===undefined||w<=v)){q=s.color;if(x){x.dataClass=r;x.colorIndex=s.colorIndex}break}}}else{if(this.isLog){w=this.val2lin(w)}t=1-((this.max-w)/((this.max-this.min)||1));r=y.length;while(r--){if(t>y[r][0]){break}}u=y[r]||y[r+1];v=y[r+1]||u;t=1-(v[0]-t)/((v[0]-u[0])||1);q=this.tweenColors(u.color,v.color,t)}return q},getOffset:function(){var q=this.legendGroup,p=this.chart.axisOffset[this.side];if(q){this.axisParent=q;h.prototype.getOffset.call(this);if(!this.added){this.added=true;this.labelLeft=0;this.labelRight=this.width}this.chart.axisOffset[this.side]=p}},setLegendColor:function(){var u,t=this.horiz,p=this.options,s=this.reversed,q=s?1:0,r=s?0:1;u=t?[q,0,r,0]:[0,r,0,q];this.legendColor={linearGradient:{x1:u[0],y1:u[1],x2:u[2],y2:u[3]},stops:p.stops||[[0,p.minColor],[1,p.maxColor]]}},drawLegendSymbol:function(s,v){var r=s.padding,w=s.options,u=this.horiz,p=g(w.symbolWidth,u?this.defaultLegendLength:12),t=g(w.symbolHeight,u?12:this.defaultLegendLength),q=g(w.labelPadding,u?16:30),x=g(w.itemDistance,10);this.setLegendColor();v.legendSymbol=this.chart.renderer.rect(0,s.baseline-11,p,t).attr({zIndex:1}).add(v.legendGroup);this.legendItemWidth=p+r+(u?x:q);this.legendItemHeight=t+r+(u?q:0)},setState:n,visible:true,setVisible:n,getSeriesExtremes:function(){var p;if(this.series.length){p=this.series[0];this.dataMin=p.valueMin;this.dataMax=p.valueMax}},drawCrosshair:function(u,p){var r=p&&p.plotX,q=p&&p.plotY,v,s=this.pos,t=this.len;if(p){v=this.toPixels(p[p.series.colorKey]);if(v<s){v=s-2}else{if(v>s+t){v=s+t+2}}p.plotX=v;p.plotY=this.len-v;h.prototype.drawCrosshair.call(this,u,p);p.plotX=r;p.plotY=q;if(this.cross){this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup);this.cross.attr({fill:this.crosshair.color})}}},getPlotLinePath:function(q,p,t,r,s){return o(s)?(this.horiz?["M",s-4,this.top-6,"L",s+4,this.top-6,s,this.top,"Z"]:["M",this.left,s,"L",this.left-6,s+6,this.left-6,s-6,"Z"]):h.prototype.getPlotLinePath.call(this,q,p,t,r)},update:function(r,s){var q=this.chart,p=q.legend;l(this.series,function(t){t.isDirtyData=true});if(r.dataClasses&&p.allItems){l(p.allItems,function(t){if(t.isDataClass){t.legendGroup.destroy()}});q.isDirtyLegend=true}q.options[this.coll]=k(this.userOptions,r);h.prototype.update.call(this,r,s);if(this.legendItem){this.setLegendColor();p.colorizeItem(this,true)}},getDataClassLegendSymbols:function(){var t=this,s=this.chart,r=this.legendItems,q=s.options.legend,u=q.valueDecimals,v=q.valueSuffix||"",p;if(!r.length){l(this.dataClasses,function(y,w){var x=true,A=y.from,z=y.to;p="";if(A===undefined){p="< "}else{if(z===undefined){p="> "}}if(A!==undefined){p+=m.numberFormat(A,u)+v}if(A!==undefined&&z!==undefined){p+=" - "}if(z!==undefined){p+=m.numberFormat(z,u)+v}r.push(j({chart:s,name:p,options:{},drawLegendSymbol:i.drawRectangle,visible:true,setState:n,isDataClass:true,setVisible:function(){x=this.visible=!x;l(t.series,function(B){l(B.points,function(C){if(C.dataClass===w){C.setVisible(x)}})});s.legend.colorizeItem(this,x)}},y))})}return r},name:""});l(["fill","stroke"],function(p){m.Fx.prototype[p+"Setter"]=function(){this.elem.attr(p,d.prototype.tweenColors(e(this.start),e(this.end),this.pos),null,true)}});c(f.prototype,"getAxes",function(r){var p=this.options,q=p.colorAxis;r.call(this);this.colorAxis=[];if(q){new d(this,q)}});c(b.prototype,"getAllItems",function(r){var q=[],p=this.chart.colorAxis[0];if(p&&p.options){if(p.options.showInLegend){if(p.options.dataClasses){q=q.concat(p.getDataClassLegendSymbols())}else{q.push(p)}}l(p.series,function(s){s.options.showInLegend=false})}return q.concat(r.call(this))});c(b.prototype,"colorizeItem",function(q,p,r){q.call(this,p,r);if(r&&p.legendColor){p.legendSymbol.attr({fill:p.legendColor})}})}(a));(function(c){var f=c.defined,e=c.each,d=c.noop,b=c.seriesTypes;c.colorPointMixin={isValid:function(){return this.value!==null},setVisible:function(h){var g=this,i=h?"show":"hide";e(["graphic","dataLabel"],function(j){if(g[j]){g[j][i]()}})},setState:function(g){c.Point.prototype.setState.call(this,g);if(this.graphic){this.graphic.attr({zIndex:g==="hover"?1:0})}}};c.colorSeriesMixin={pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:d,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:b.column.prototype.pointAttribs,translateColors:function(){var i=this,g=this.options.nullColor,h=this.colorAxis,j=this.colorKey;e(this.data,function(k){var m=k[j],l;l=k.options.color||(k.isNull?g:(h&&m!==undefined)?h.toColor(m,k):k.color||i.color);if(l){k.color=l}})},colorAttribs:function(g){var h={};if(f(g.color)){h[this.colorProp||"fill"]=g.color}return h}}}(a));(function(k){var d=k.addEvent,e=k.Chart,j=k.doc,i=k.each,g=k.extend,h=k.merge,f=k.pick,b=k.wrap;function c(l){if(l){if(l.preventDefault){l.preventDefault()}if(l.stopPropagation){l.stopPropagation()}l.cancelBubble=true}}g(e.prototype,{renderMapNavigation:function(){var s=this,w=this.options.mapNavigation,t=w.buttons,m,p,o,r,u,l,q,v=function(n){this.handler.call(s,n);c(n)};if(f(w.enableButtons,w.enabled)&&!s.renderer.forExport){s.mapNavButtons=[];for(m in t){if(t.hasOwnProperty(m)){o=h(w.buttonOptions,t[m]);r=o.theme;r.style=h(o.theme.style,o.style);u=r.states;l=u&&u.hover;q=u&&u.select;p=s.renderer.button(o.text,0,0,v,r,l,q,0,m==="zoomIn"?"topbutton":"bottombutton").addClass("highcharts-map-navigation").attr({width:o.width,height:o.height,title:s.options.lang[m],padding:o.padding,zIndex:5}).add();p.handler=o.onclick;p.align(g(o,{width:p.width,height:2*p.height}),null,o.alignTo);d(p.element,"dblclick",c);s.mapNavButtons.push(p)}}}},fitToBox:function(l,m){i([["x","width"],["y","height"]],function(o){var p=o[0],n=o[1];if(l[p]+l[n]>m[p]+m[n]){if(l[n]>m[n]){l[n]=m[n];l[p]=m[p]}else{l[p]=m[p]+m[n]-l[n]}}if(l[n]>m[n]){l[n]=m[n]}if(l[p]<m[p]){l[p]=m[p]}});return l},mapZoom:function(x,E,m,s,q){var z=this,t=z.xAxis[0],A=t.max-t.min,r=f(E,t.min+A/2),B=A*x,l=z.yAxis[0],C=l.max-l.min,p=f(m,l.min+C/2),D=C*x,w=s?((s-t.pos)/t.len):0.5,v=q?((q-l.pos)/l.len):0.5,o=r-B*w,u=p-D*v,n=z.fitToBox({x:o,y:u,width:B,height:D},{x:t.dataMin,y:l.dataMin,width:t.dataMax-t.dataMin,height:l.dataMax-l.dataMin}),y=n.x<=t.dataMin&&n.width>=t.dataMax-t.dataMin&&n.y<=l.dataMin&&n.height>=l.dataMax-l.dataMin;if(s){t.fixTo=[s-t.pos,E]}if(q){l.fixTo=[q-l.pos,m]}if(x!==undefined&&!y){t.setExtremes(n.x,n.x+n.width,false);l.setExtremes(n.y,n.y+n.height,false)}else{t.setExtremes(undefined,undefined,false);l.setExtremes(undefined,undefined,false)}z.redraw()}});b(e.prototype,"render",function(m){var l=this,n=l.options.mapNavigation;l.renderMapNavigation();m.call(l);if(f(n.enableDoubleClickZoom,n.enabled)||n.enableDoubleClickZoomTo){d(l.container,"dblclick",function(o){l.pointer.onContainerDblClick(o)})}if(f(n.enableMouseWheelZoom,n.enabled)){d(l.container,j.onmousewheel===undefined?"DOMMouseScroll":"mousewheel",function(o){l.pointer.onContainerMouseWheel(o);c(o);return false})}})}(a));(function(b){var f=b.extend,d=b.pick,e=b.Pointer,c=b.wrap;f(e.prototype,{onContainerDblClick:function(h){var g=this.chart;h=this.normalize(h);if(g.options.mapNavigation.enableDoubleClickZoomTo){if(g.pointer.inClass(h.target,"highcharts-tracker")&&g.hoverPoint){g.hoverPoint.zoomTo()}}else{if(g.isInsidePlot(h.chartX-g.plotLeft,h.chartY-g.plotTop)){g.mapZoom(0.5,g.xAxis[0].toValue(h.chartX),g.yAxis[0].toValue(h.chartY),h.chartX,h.chartY)}}},onContainerMouseWheel:function(h){var g=this.chart,i;h=this.normalize(h);i=h.detail||-(h.wheelDelta/120);if(g.isInsidePlot(h.chartX-g.plotLeft,h.chartY-g.plotTop)){g.mapZoom(Math.pow(g.options.mapNavigation.mouseWheelSensitivity,i),g.xAxis[0].toValue(h.chartX),g.yAxis[0].toValue(h.chartY),h.chartX,h.chartY)}}});c(e.prototype,"zoomOption",function(g){var h=this.chart.options.mapNavigation;if(d(h.enableTouchZoom,h.enabled)){this.chart.options.chart.pinchType="xy"}g.apply(this,[].slice.call(arguments,1))});c(e.prototype,"pinchTranslate",function(m,h,n,i,j,l,g){var k;m.call(this,h,n,i,j,l,g);if(this.chart.options.chart.type==="map"&&this.hasZoom){k=i.scaleX>i.scaleY;this.pinchTranslateDirection(!k,h,n,i,j,l,g,k?i.scaleX:i.scaleY)}})}(a));(function(k){var o=k.color,c=k.ColorAxis,e=k.colorPointMixin,m=k.colorSeriesMixin,v=k.doc,g=k.each,p=k.extend,n=k.isNumber,q=k.LegendSymbolMixin,t=k.map,i=k.merge,f=k.noop,h=k.pick,l=k.isArray,u=k.Point,j=k.Series,b=k.seriesType,s=k.seriesTypes,r=k.splat;var d=v.documentElement.style.vectorEffect!==undefined;b("map","scatter",{allAreas:true,animation:false,nullColor:"#f7f7f7",borderColor:"#cccccc",borderWidth:1,marker:null,stickyTracking:false,joinBy:"hc-key",dataLabels:{formatter:function(){return this.point.value},inside:true,verticalAlign:"middle",crop:false,overflow:false,padding:0},turboThreshold:0,tooltip:{followPointer:true,pointFormat:"{point.name}: {point.value}<br/>"},states:{normal:{animation:true},hover:{brightness:0.2,halo:null},select:{color:"#cccccc"}}},i(m,{type:"map",supportsDrilldown:true,getExtremesFromAll:true,useMapGeometry:true,forceDL:true,searchPoint:f,directTouch:true,preserveAspectRatio:true,pointArrayMap:["value"],getBox:function(E){var F=Number.MAX_VALUE,y=-F,B=F,w=-F,A=F,C=F,z=this.xAxis,x=this.yAxis,D;g(E||[],function(N){if(N.path){if(typeof N.path==="string"){N.path=k.splitPath(N.path)}var O=N.path||[],H=O.length,G=false,J=-F,M=F,I=-F,L=F,K=N.properties;if(!N._foundBox){while(H--){if(n(O[H])){if(G){J=Math.max(J,O[H]);M=Math.min(M,O[H])}else{I=Math.max(I,O[H]);L=Math.min(L,O[H])}G=!G}}N._midX=M+(J-M)*(N.middleX||(K&&K["hc-middle-x"])||0.5);N._midY=L+(I-L)*(N.middleY||(K&&K["hc-middle-y"])||0.5);N._maxX=J;N._minX=M;N._maxY=I;N._minY=L;N.labelrank=h(N.labelrank,(J-M)*(I-L));N._foundBox=true}y=Math.max(y,N._maxX);B=Math.min(B,N._minX);w=Math.max(w,N._maxY);A=Math.min(A,N._minY);C=Math.min(N._maxX-N._minX,N._maxY-N._minY,C);D=true}});if(D){this.minY=Math.min(A,h(this.minY,F));this.maxY=Math.max(w,h(this.maxY,-F));this.minX=Math.min(B,h(this.minX,F));this.maxX=Math.max(y,h(this.maxX,-F));if(z&&z.options.minRange===undefined){z.minRange=Math.min(5*C,(this.maxX-this.minX)/5,z.minRange||F)}if(x&&x.options.minRange===undefined){x.minRange=Math.min(5*C,(this.maxY-this.minY)/5,x.minRange||F)}}},getExtremes:function(){j.prototype.getExtremes.call(this,this.valueData);if(this.chart.hasRendered&&this.isDirtyData){this.getBox(this.options.data)}this.valueMin=this.dataMin;this.valueMax=this.dataMax;this.dataMin=this.minY;this.dataMax=this.maxY},translatePath:function(I){var D=this,A=false,y=D.xAxis,w=D.yAxis,x=y.min,G=y.transA,C=y.minPixelPadding,H=w.min,z=w.transA,E=w.minPixelPadding,B,F=[];if(I){B=I.length;while(B--){if(n(I[B])){F[B]=A?(I[B]-x)*G+C:(I[B]-H)*z+E;A=!A}else{F[B]=I[B]}}}return F},setData:function(N,H,I,z){var y=this.options,F=this.chart.options.chart,B=F&&F.map,E=y.mapData,K=y.joinBy,M=K===null,D=y.keys||this.pointArrayMap,J=[],w={},L,C,A=this.chart.mapTransforms,x,G;if(!E&&B){E=typeof B==="string"?k.maps[B]:B}if(M){K="_i"}K=this.joinBy=r(K);if(!K[1]){K[1]=K[0]}if(N){g(N,function(R,Q){var O=0;if(n(R)){N[Q]={value:R}}else{if(l(R)){N[Q]={};if(!y.keys&&R.length>D.length&&typeof R[0]==="string"){N[Q]["hc-key"]=R[0];++O}for(var P=0;P<D.length;++P,++O){if(D[P]){N[Q][D[P]]=R[O]}}}}if(M){N[Q]._i=Q}})}this.getBox(N);this.chart.mapTransforms=A=F&&F.mapTransforms||E&&E["hc-transform"]||A;if(A){for(C in A){if(A.hasOwnProperty(C)&&C.rotation){C.cosAngle=Math.cos(C.rotation);C.sinAngle=Math.sin(C.rotation)}}}if(E){if(E.type==="FeatureCollection"){this.mapTitle=E.title;E=k.geojson(E,this.type,this)}this.mapData=E;this.mapMap={};for(G=0;G<E.length;G++){L=E[G];x=L.properties;L._i=G;if(K[0]&&x&&x[K[0]]){L[K[0]]=x[K[0]]}w[L[K[0]]]=L}this.mapMap=w;if(N&&K[1]){g(N,function(O){if(w[O[K[1]]]){J.push(w[O[K[1]]])}})}if(y.allAreas){this.getBox(E);N=N||[];if(K[1]){g(N,function(O){J.push(O[K[1]])})}J="|"+t(J,function(O){return O&&O[K[0]]}).join("|")+"|";g(E,function(O){if(!K[0]||J.indexOf("|"+O[K[0]]+"|")===-1){N.push(i(O,{value:null}));z=false}})}else{this.getBox(J)}}j.prototype.setData.call(this,N,H,I,z)},drawGraph:f,drawDataLabels:f,doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var x=this,z=x.xAxis,w=x.yAxis,y=x.doFullTranslate();x.generatePoints();g(x.data,function(A){A.plotX=z.toPixels(A._midX,true);A.plotY=w.toPixels(A._midY,true);if(y){A.shapeType="path";A.shapeArgs={d:x.translatePath(A.path)}}});x.translateColors()},pointAttribs:function(x,y){var w;w=s.column.prototype.pointAttribs.call(this,x,y);if(x.isFading){delete w.fill}if(d){w["vector-effect"]="non-scaling-stroke"}else{w["stroke-width"]="inherit"}return w},drawPoints:function(){var F=this,B=F.xAxis,x=F.yAxis,K=F.group,I=F.chart,H=I.renderer,L,J,A,z,D=this.baseTrans,G,E,C,y,w;if(!F.transformGroup){F.transformGroup=H.g().attr({scaleX:1,scaleY:1}).add(K);F.transformGroup.survive=true}if(F.doFullTranslate()){if(I.hasRendered){g(F.points,function(M){if(M.shapeArgs){M.shapeArgs.fill=F.pointAttribs(M,M.state).fill}})}F.group=F.transformGroup;s.column.prototype.drawPoints.apply(F);F.group=K;g(F.points,function(M){if(M.graphic){if(M.name){M.graphic.addClass("highcharts-name-"+M.name.replace(/ /g,"-").toLowerCase())}if(M.properties&&M.properties["hc-key"]){M.graphic.addClass("highcharts-key-"+M.properties["hc-key"].toLowerCase())}}});this.baseTrans={originX:B.min-B.minPixelPadding/B.transA,originY:x.min-x.minPixelPadding/x.transA+(x.reversed?0:x.len/x.transA),transAX:B.transA,transAY:x.transA};this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1})}else{L=B.transA/D.transAX;J=x.transA/D.transAY;A=B.toPixels(D.originX,true);z=x.toPixels(D.originY,true);if(L>0.99&&L<1.01&&J>0.99&&J<1.01){L=1;J=1;A=Math.round(A);z=Math.round(z)}G=this.transformGroup;if(I.renderer.globalAnimation){E=G.attr("translateX");C=G.attr("translateY");y=G.attr("scaleX");w=G.attr("scaleY");G.attr({animator:0}).animate({animator:1},{step:function(M,N){G.attr({translateX:E+(A-E)*N.pos,translateY:C+(z-C)*N.pos,scaleX:y+(L-y)*N.pos,scaleY:w+(J-w)*N.pos})}})}else{G.attr({translateX:A,translateY:z,scaleX:L,scaleY:J})}}if(!d){F.group.element.setAttribute("stroke-width",F.options[(F.pointAttrToOptions&&F.pointAttrToOptions["stroke-width"])||"borderWidth"]/(L||1))}this.drawMapDataLabels()},drawMapDataLabels:function(){j.prototype.drawDataLabels.call(this);if(this.dataLabelsGroup){this.dataLabelsGroup.clip(this.chart.clipRect)}},render:function(){var w=this,x=j.prototype.render;if(w.chart.renderer.isVML&&w.data.length>3000){setTimeout(function(){x.call(w)})}else{x.call(w)}},animate:function(D){var x=this.chart,z=this.options.animation,C=this.group,y=this.xAxis,w=this.yAxis,B=y.pos,A=w.pos;if(x.renderer.isSVG){if(z===true){z={duration:1000}}if(D){C.attr({translateX:B+y.len/2,translateY:A+w.len/2,scaleX:0.001,scaleY:0.001})}else{C.animate({translateX:B,translateY:A,scaleX:1,scaleY:1},z);this.animate=null}}},animateDrilldown:function(A){var x=this.chart.plotBox,B=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],w=B.bBox,y=this.chart.options.drilldown.animation,z;if(!A){z=Math.min(w.width/x.width,w.height/x.height);B.shapeArgs={scaleX:z,scaleY:z,translateX:w.x,translateY:w.y};g(this.points,function(C){if(C.graphic){C.graphic.attr(B.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},y)}});this.animate=null}},drawLegendSymbol:q.drawRectangle,animateDrillupFrom:function(w){s.column.prototype.animateDrillupFrom.call(this,w)},animateDrillupTo:function(w){s.column.prototype.animateDrillupTo.call(this,w)}}),p({applyOptions:function(z,y){var w=u.prototype.applyOptions.call(this,z,y),B=this.series,A=B.joinBy,C;if(B.mapData){C=w[A[1]]!==undefined&&B.mapMap[w[A[1]]];if(C){if(B.xyFromShape){w.x=C._midX;w.y=C._midY}p(w,C)}else{w.value=w.value||null}}return w},onMouseOver:function(w){clearTimeout(this.colorInterval);if(this.value!==null){u.prototype.onMouseOver.call(this,w)}else{this.series.onMouseOut(w)}},onMouseOut:function(){var w=this,B=+new Date(),z=o(this.series.pointAttribs(w).fill),x=o(this.series.pointAttribs(w,"hover").fill),y=w.series.options.states.normal.animation,A=y&&(y.duration||500);if(A&&z.rgba.length===4&&x.rgba.length===4&&w.state!=="select"){clearTimeout(w.colorInterval);w.colorInterval=setInterval(function(){var D=(new Date()-B)/A,C=w.graphic;if(D>1){D=1}if(C){C.attr("fill",c.prototype.tweenColors.call(0,x,z,D))}if(D>=1){clearTimeout(w.colorInterval)}},13);w.isFading=true}u.prototype.onMouseOut.call(w);w.isFading=null},zoomTo:function(){var w=this,x=w.series;x.xAxis.setExtremes(w._minX,w._maxX,false);x.yAxis.setExtremes(w._minY,w._maxY,false);x.chart.redraw()}},e))}(a));(function(d){var b=d.seriesType,c=d.seriesTypes;b("mapline","map",{lineWidth:1,fillColor:"none"},{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(f,g){var e=c.map.prototype.pointAttribs.call(this,f,g);e.fill=this.options.fillColor;return e},drawLegendSymbol:c.line.prototype.drawLegendSymbol})}(a));(function(c){var e=c.merge,d=c.Point,b=c.seriesType;b("mappoint","scatter",{dataLabels:{enabled:true,formatter:function(){return this.point.name},crop:false,defer:false,overflow:false,style:{color:"#000000"}}},{type:"mappoint",forceDL:true},{applyOptions:function(g,f){var h=g.lat!==undefined&&g.lon!==undefined?e(g,this.series.chart.fromLatLonToPoint(g)):g;return d.prototype.applyOptions.call(this,h,f)}})}(a));(function(d){var f=d.merge,e=d.Point,b=d.seriesType,c=d.seriesTypes;if(c.bubble){b("mapbubble","bubble",{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}},{xyFromShape:true,type:"mapbubble",pointArrayMap:["z"],getMapData:c.map.prototype.getMapData,getBox:c.map.prototype.getBox,setData:c.map.prototype.setData},{applyOptions:function(i,h){var g;if(i&&i.lat!==undefined&&i.lon!==undefined){g=e.prototype.applyOptions.call(this,f(i,this.series.chart.fromLatLonToPoint(i)),h)}else{g=c.map.prototype.pointClass.prototype.applyOptions.call(this,i,h)}return g},ttBelow:false})}}(a));(function(k){var g=k.colorPointMixin,b=k.colorSeriesMixin,j=k.each,f=k.LegendSymbolMixin,i=k.merge,l=k.noop,e=k.pick,h=k.Series,d=k.seriesType,c=k.seriesTypes;d("heatmap","scatter",{animation:false,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:true,verticalAlign:"middle",crop:false,overflow:false,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:true},hover:{halo:false,brightness:0.2}}},i(b,{pointArrayMap:["y","value"],hasPointSpecificOptions:true,supportsDrilldown:true,getExtremesFromAll:true,directTouch:true,init:function(){var m;c.scatter.prototype.init.apply(this,arguments);m=this.options;m.pointRange=e(m.pointRange,m.colsize||1);this.yAxis.axisPointRange=m.rowsize||1},translate:function(){var o=this,n=o.options,q=o.xAxis,m=o.yAxis,p=function(s,t,r){return Math.min(Math.max(t,s),r)};o.generatePoints();j(o.points,function(r){var x=(n.colsize||1)/2,v=(n.rowsize||1)/2,t=p(Math.round(q.len-q.translate(r.x-x,0,1,0,1)),-q.len,2*q.len),s=p(Math.round(q.len-q.translate(r.x+x,0,1,0,1)),-q.len,2*q.len),w=p(Math.round(m.translate(r.y-v,0,1,0,1)),-m.len,2*m.len),u=p(Math.round(m.translate(r.y+v,0,1,0,1)),-m.len,2*m.len);r.plotX=r.clientX=(t+s)/2;r.plotY=(w+u)/2;r.shapeType="rect";r.shapeArgs={x:Math.min(t,s),y:Math.min(w,u),width:Math.abs(s-t),height:Math.abs(u-w)}});o.translateColors()},drawPoints:function(){c.column.prototype.drawPoints.call(this);j(this.points,function(m){m.graphic.attr(this.colorAttribs(m))},this)},animate:l,getBox:l,drawLegendSymbol:f.drawRectangle,alignDataLabel:c.column.prototype.alignDataLabel,getExtremes:function(){h.prototype.getExtremes.call(this,this.valueData);this.valueMin=this.dataMin;this.valueMax=this.dataMax;h.prototype.getExtremes.call(this)}}),g)}(a));(function(j){var d=j.Chart,h=j.each,f=j.extend,i=j.format,g=j.merge,e=j.win,c=j.wrap;function b(s,q){var l,k,n,m,o=false,r=s.x,p=s.y;for(l=0,k=q.length-1;l<q.length;k=l++){n=q[l][1]>p;m=q[k][1]>p;if(n!==m&&(r<(q[k][0]-q[l][0])*(p-q[l][1])/(q[k][1]-q[l][1])+q[l][0])){o=!o}}return o}d.prototype.transformFromLatLon=function(k,o){if(e.proj4===undefined){j.error(21);return{x:0,y:null}}var n=e.proj4(o.crs,[k.lon,k.lat]),m=o.cosAngle||(o.rotation&&Math.cos(o.rotation)),p=o.sinAngle||(o.rotation&&Math.sin(o.rotation)),l=o.rotation?[n[0]*m+n[1]*p,-n[0]*p+n[1]*m]:n;return{x:((l[0]-(o.xoffset||0))*(o.scale||1)+(o.xpan||0))*(o.jsonres||1)+(o.jsonmarginX||0),y:(((o.yoffset||0)-l[1])*(o.scale||1)+(o.ypan||0))*(o.jsonres||1)-(o.jsonmarginY||0)}};d.prototype.transformToLatLon=function(k,n){if(e.proj4===undefined){j.error(21);return}var p={x:((k.x-(n.jsonmarginX||0))/(n.jsonres||1)-(n.xpan||0))/(n.scale||1)+(n.xoffset||0),y:((-k.y-(n.jsonmarginY||0))/(n.jsonres||1)+(n.ypan||0))/(n.scale||1)+(n.yoffset||0)},l=n.cosAngle||(n.rotation&&Math.cos(n.rotation)),o=n.sinAngle||(n.rotation&&Math.sin(n.rotation)),m=e.proj4(n.crs,"WGS84",n.rotation?{x:p.x*l+p.y*-o,y:p.x*o+p.y*l}:p);return{lat:m.y,lon:m.x}};d.prototype.fromPointToLatLon=function(k){var m=this.mapTransforms,l;if(!m){j.error(22);return}for(l in m){if(m.hasOwnProperty(l)&&m[l].hitZone&&b({x:k.x,y:-k.y},m[l].hitZone.coordinates[0])){return this.transformToLatLon(k,m[l])}}return this.transformToLatLon(k,m["default"])};d.prototype.fromLatLonToPoint=function(k){var m=this.mapTransforms,l,n;if(!m){j.error(22);return{x:0,y:null}}for(l in m){if(m.hasOwnProperty(l)&&m[l].hitZone){n=this.transformFromLatLon(k,m[l]);if(b({x:n.x,y:-n.y},m[l].hitZone.coordinates[0])){return n}}}return this.transformFromLatLon(k,m["default"])};j.geojson=function(l,p,m){var o=[],n=[],k=function(s){var r,q=s.length;n.push("M");for(r=0;r<q;r++){if(r===1){n.push("L")}n.push(s[r][0],-s[r][1])}};p=p||"map";h(l.features,function(s){var v=s.geometry,t=v.type,u=v.coordinates,r=s.properties,q;n=[];if(p==="map"||p==="mapbubble"){if(t==="Polygon"){h(u,k);n.push("Z")}else{if(t==="MultiPolygon"){h(u,function(w){h(w,k)});n.push("Z")}}if(n.length){q={path:n}}}else{if(p==="mapline"){if(t==="LineString"){k(u)}else{if(t==="MultiLineString"){h(u,k)}}if(n.length){q={path:n}}}else{if(p==="mappoint"){if(t==="Point"){q={x:u[0],y:-u[1]}}}}}if(q){o.push(f(q,{name:r.name||r.NAME,properties:r}))}});if(m&&l.copyrightShort){m.chart.mapCredits=i(m.chart.options.credits.mapText,{geojson:l});m.chart.mapCreditsFull=i(m.chart.options.credits.mapTextFull,{geojson:l})}return o};c(d.prototype,"addCredits",function(l,k){k=g(true,this.options.credits,k);if(this.mapCredits){k.href=null}l.call(this,k);if(this.credits&&this.mapCreditsFull){this.credits.attr({title:this.mapCreditsFull})}})}(a));(function(l){var e=l.Chart,b=l.defaultOptions,j=l.each,g=l.extend,i=l.merge,f=l.pick,d=l.Renderer,h=l.SVGRenderer,c=l.VMLRenderer;g(b.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});b.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(0.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};l.splitPath=function(n){var m;n=n.replace(/([A-Za-z])/g," $1 ");n=n.replace(/^\s*/,"").replace(/\s*$/,"");n=n.split(/[ ,]+/);for(m=0;m<n.length;m++){if(!/[a-zA-Z]/.test(n[m])){n[m]=parseFloat(n[m])}}return n};l.maps={};function k(m,t,n,s,p,r,q,o){return["M",m+p,t,"L",m+n-r,t,"C",m+n-r/2,t,m+n,t+r/2,m+n,t+r,"L",m+n,t+s-q,"C",m+n,t+s-q/2,m+n-q/2,t+s,m+n-q,t+s,"L",m+o,t+s,"C",m+o/2,t+s,m,t+s-o/2,m,t+s-o,"L",m,t+p,"C",m,t+p/2,m+p/2,t,m+p,t,"Z"]}h.prototype.symbols.topbutton=function(n,q,o,p,m){return k(n-1,q-1,o,p,m.r,m.r,0,0)};h.prototype.symbols.bottombutton=function(n,q,o,p,m){return k(n-1,q-1,o,p,0,0,m.r,m.r)};if(d===c){j(["topbutton","bottombutton"],function(m){c.prototype.symbols[m]=h.prototype.symbols[m]})}l.Map=l.mapChart=function(o,n,t){var m=typeof o==="string"||o.nodeName,q=arguments[m?1:0],s={endOnTick:false,visible:false,minPadding:0,maxPadding:0,startOnTick:false},p,r=l.getOptions().credits;p=q.series;q.series=null;q=i({chart:{panning:"xy",type:"map"},credits:{mapText:f(r.mapText,' \u00a9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:f(r.mapTextFull,"{geojson.copyright}")},tooltip:{followTouchMove:false},xAxis:s,yAxis:i(s,{reversed:true})},q,{chart:{inverted:false,alignTicks:false}});q.series=p;return m?new e(o,q,t):new e(q,n)}}(a))}));